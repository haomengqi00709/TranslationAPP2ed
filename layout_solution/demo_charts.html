<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chart Demo - Bar & Pie Charts</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #F8FAFC;
            padding: 40px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .demo-container {
            background: white;
            border-radius: 12px;
            padding: 40px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 40px;
        }

        h1 {
            color: #1E293B;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #64748B;
            font-size: 1.1em;
            margin-bottom: 30px;
        }

        .chart-container {
            margin: 30px 0;
            padding: 30px;
            background: #FAFAFA;
            border-radius: 8px;
            max-height: 500px;
        }

        .chart-title {
            font-size: 1.2em;
            font-weight: 700;
            color: #1E293B;
            margin-bottom: 20px;
            text-align: center;
        }

        .chart-container canvas {
            max-height: 400px !important;
        }

        .info-box {
            background: #EFF6FF;
            border-left: 4px solid #3B82F6;
            padding: 20px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .info-box h3 {
            margin-top: 0;
            color: #1E40AF;
        }

        .info-box code {
            background: white;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.9em;
        }

        .slide-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 30px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .slide-header h2 {
            margin: 0;
            font-size: 1.5em;
        }

        .slide-header p {
            margin: 10px 0 0 0;
            opacity: 0.9;
        }
    </style>

    <!-- Chart.js Library -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <!-- Chart.js Data Labels Plugin for showing values on charts -->
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js"></script>
</head>
<body>
    <h1>üìä Chart.js Demo - Recreated from AI Vision Analysis</h1>
    <p class="subtitle">Showing charts extracted from PowerPoint slides and rendered with Chart.js</p>

    <div class="info-box">
        <h3>üéØ What you're seeing:</h3>
        <p>These charts were created by:</p>
        <ol>
            <li><strong>AI Vision</strong> analyzing the original PowerPoint slide images</li>
            <li>Extracting data into <code>Chart.js</code> format</li>
            <li>Rendering with responsive, accessible HTML5 canvas charts</li>
            <li><strong>Data labels displayed ON charts</strong> - critical for PDF export (no interactive tooltips needed!)</li>
        </ol>
        <p><strong>Benefits:</strong> Fully responsive, accessible, French labels, data visible in PDF, matches design system, perfect print quality</p>
    </div>

    <!-- Demo 1: Bar Chart (Slide 8) -->
    <div class="demo-container">
        <div class="slide-header">
            <h2>Slide 8 - Bar Chart</h2>
            <p>Original: "Two thirds of supervisors handled fewer than one request per year on average"</p>
        </div>

        <div class="chart-container">
            <div class="chart-title">Nombre de demandes trait√©es par les superviseurs au cours des 3 derni√®res ann√©es</div>
            <canvas id="chart-slide8"></canvas>
        </div>

        <div class="info-box">
            <h3>üìù Data extracted by AI Vision:</h3>
            <ul>
                <li>Chart Type: <code>bar_chart</code> (vertical bars)</li>
                <li>5 categories with percentages</li>
                <li>Color: #6A329F (preserved from original)</li>
                <li>Labels translated to French (future step)</li>
            </ul>
        </div>
    </div>

    <!-- Demo 2: Pie Chart (Slide 9) -->
    <div class="demo-container">
        <div class="slide-header">
            <h2>Slide 9 - Pie Chart</h2>
            <p>Original: "Supervisors most often start with Labour Relations; a quarter are unaware..."</p>
        </div>

        <div class="chart-container">
            <div class="chart-title">L'employ√© avait-il une mesure d'adaptation similaire auparavant ? (r√©ponse des superviseurs)</div>
            <canvas id="chart-slide9"></canvas>
        </div>

        <div class="info-box">
            <h3>üìù Data extracted by AI Vision:</h3>
            <ul>
                <li>Chart Type: <code>pie_chart</code></li>
                <li>3 slices: No (48%), Yes (28%), I don't know (24%)</li>
                <li>Colors: Preserved from original (#FCD5B5, #ED7D31, #D9D9D9)</li>
                <li>Perfect for showing proportions</li>
            </ul>
        </div>
    </div>

    <script>
        // Register the datalabels plugin globally
        Chart.register(ChartDataLabels);

        // Slide 8: Bar Chart
        (function() {
            const ctx = document.getElementById('chart-slide8').getContext('2d');

            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: [
                        "No requests",
                        "1 to 2 requests",
                        "3 to 5 requests",
                        "6 to 10 requests",
                        "More than 10 requests"
                    ],
                    datasets: [{
                        label: "Percentage of Supervisors",
                        data: [22, 41, 25, 6, 6],
                        backgroundColor: "#6A329F"
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: {
                            display: false
                        },
                        datalabels: {
                            color: '#FFFFFF',
                            font: {
                                weight: 'bold',
                                size: 14
                            },
                            formatter: function(value) {
                                return value + '%';
                            }
                        },
                        tooltip: {
                            enabled: true,
                            callbacks: {
                                label: function(context) {
                                    return context.parsed.y + '%';
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 50,
                            title: {
                                display: true,
                                text: 'Percentage (%)',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                }
                            },
                            ticks: {
                                font: {
                                    size: 12
                                }
                            }
                        },
                        x: {
                            title: {
                                display: true,
                                text: 'Number of Requests Handled',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                }
                            },
                            ticks: {
                                font: {
                                    size: 11
                                }
                            }
                        }
                    }
                }
            });
        })();

        // Slide 9: Pie Chart
        (function() {
            const ctx = document.getElementById('chart-slide9').getContext('2d');

            new Chart(ctx, {
                type: 'pie',
                data: {
                    labels: ["Non", "Oui", "Je ne sais pas"],
                    datasets: [{
                        data: [48, 28, 24],
                        backgroundColor: ["#FCD5B5", "#ED7D31", "#D9D9D9"]
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'right',
                            labels: {
                                font: {
                                    size: 13
                                },
                                padding: 15
                            }
                        },
                        datalabels: {
                            color: '#1E293B',
                            font: {
                                weight: 'bold',
                                size: 14
                            },
                            formatter: function(value, context) {
                                const label = context.chart.data.labels[context.dataIndex];
                                return label + '\n' + value + '%';
                            }
                        },
                        tooltip: {
                            enabled: true,
                            callbacks: {
                                label: function(context) {
                                    return context.label + ': ' + context.parsed + '%';
                                }
                            }
                        }
                    }
                }
            });
        })();
    </script>
</body>
</html>
